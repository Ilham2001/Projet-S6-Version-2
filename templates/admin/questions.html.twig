{% extends 'layouts/adminLayout.html.twig' %}

{% block body %}
    <div>
        <h2 class="titre">Questions</h2>
        
        <div>
            {{ form_start(filtre_question_form) }}
            <div class="">
                {{ form_errors(filtre_question_form) }}
            </div>
            <div class="zone_filtre">
                <ul>
                    <li><div class="input">{{ form_row(filtre_question_form.question) }}</div></li>
                    <li><div class="input">{{ form_row(filtre_question_form.type) }}</div></li>
                    <li><div class="input">{{ form_row(filtre_question_form.thematique) }}</div></li>
                    <li><div class="input">{{ form_row(filtre_question_form.matiere) }}</div>
                </ul>
            </div>
            {{ form_end(filtre_question_form) }}
        </div>

        <a href="{{ path('admin_ajouter_questions') }}" id="ajouter_question">+ Nouvelle question</a>
        <a href="{{ path('admin_ajouter_categorie') }}" id="ajouter_categorie">+ Nouvelle thématique/matière</a>

        <table class="tableau_de_resultats tableau_utilisateurs">
            <tr>
                <th>Question</th>
                <th>Propositions</th>
                <th>Modification</th>
                <th>Suppression</th>
            </tr>
            {% for question in questions %}
            <tr>
                <th>{{ question.contenuQuestion }}</th>
                <th>
                    {% for proposition in question.propositionsQuestion %}
                        {{ proposition }}
                    {% endfor %}
                </th>
                <th><a id="button_modifier" class="button_admin" href="">Modifier</a></th>
                <th><a href="{{ path('admin_supprimer_question', {'id' : question.id }) }}" id="button_supprimer" 
                    class="button_admin" onclick="return confirm('Voulez-vous supprimer cette question ?')">Supprimer</a></th>
            </tr>
            {% else %}
            <tr>
                <th colspan="4"><center>Aucun résultat</center></th>
            </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}